- name: GPG public keys
  apt_key:
    url: "{{ item }}"
    state: present
  with_items:
    - "https://download.docker.com/linux/ubuntu/gpg"
  become: yes

- name: APT repositories
  apt_repository:
    repo: "{{ item }}"
    state: present
  with_items:
    - "ppa:no1wantdthisname/ppa"
    - "ppa:rvm/smplayer"
    - "ppa:webupd8team/atom"
    - "ppa:fish-shell/release-3"
    - "deb [arch=amd64] https://download.docker.com/linux/ubuntu {{ ansible_distribution_release }} stable"
  become: yes

- name: Common packages
  apt:
    name:
      - fish
      - chromium-browser
      - deluge-gtk
      - smplayer
      - git
      - p7zip
      - gitg
      - mpv
      - docker-engine
      - docker-compose
      - unp
      # FIXME: missing tzdata package
      # - openjdk-7-source
      # - openjdk-7-jdk
      - openjdk-8-source
      - openjdk-8-jdk
    state: present
  become: yes

- name: Install VSCodium
  apt:
    deb: https://github.com/VSCodium/vscodium/releases/download/1.41.1/codium_1.41.1-1576787344_amd64.deb
  become: yes

- name: Install nodejs
  include_role:
    name: geerlingguy.nodejs
  vars:
    ansible_become: yes
